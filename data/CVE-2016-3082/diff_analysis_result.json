{
    "before_functions": "protected Templates getTemplates(String path) throws TransformerException, IOException {\n    String pathFromRequest = ServletActionContext.getRequest().getParameter(\"xslt.location\");\n\n    if (pathFromRequest != null)\n        path = pathFromRequest;\n\n    if (path == null)\n        throw new TransformerException(\"Stylesheet path is null\");\n\n    Templates templates = templatesCache.get(path);\n\n    if (noCache || (templates == null)) {\n        synchronized (templatesCache) {\n            URL resource = ServletActionContext.getServletContext().getResource(path);\n\n            if (resource == null) {\n                throw new TransformerException(\"Stylesheet \" + path + \" not found in resources.\");\n            }\n\n            LOG.debug(\"Preparing XSLT stylesheet templates: {}\", path);\n\n            TransformerFactory factory = TransformerFactory.newInstance();\n            factory.setURIResolver(getURIResolver());\n            templates = factory.newTemplates(new StreamSource(resource.openStream()));\n            templatesCache.put(path, templates);\n        }\n    }\n\n    return templates;\n}\n",
    "after_functions": "protected Templates getTemplates(final String path) throws TransformerException, IOException {\n    if (path == null)\n        throw new TransformerException(\"Stylesheet path is null\");\n\n    Templates templates = templatesCache.get(path);\n\n    if (noCache || (templates == null)) {\n        synchronized (templatesCache) {\n            URL resource = ServletActionContext.getServletContext().getResource(path);\n\n            if (resource == null) {\n                throw new TransformerException(\"Stylesheet \" + path + \" not found in resources.\");\n            }\n\n            LOG.debug(\"Preparing XSLT stylesheet templates: {}\", path);\n\n            TransformerFactory factory = TransformerFactory.newInstance();\n            factory.setURIResolver(getURIResolver());\n            templates = factory.newTemplates(new StreamSource(resource.openStream()));\n            templatesCache.put(path, templates);\n        }\n    }\n\n    return templates;\n}\n"
}