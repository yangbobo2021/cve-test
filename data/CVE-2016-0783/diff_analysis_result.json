{
    "before_functions": "private void sendHashByUser(User us, String appLink, UserDao userDao) throws Exception {\n    String loginData = us.getLogin() + new Date();\n    log.debug(\"User: \" + us.getLogin());\n    us.setResethash(ManageCryptStyle.getInstanceOfCrypt().createPassPhrase(loginData));\n    userDao.update(us, -1L);\n    String reset_link = appLink + \"?hash=\" + us.getResethash();\n\n    String email = us.getAddress().getEmail();\n\n    String template = ResetPasswordTemplate.getEmail(reset_link);\n\n    getBean(MailHandler.class).send(email, Application.getString(517), template);\n}\n",
    "after_functions": "private void sendHashByUser(User us, String appLink, UserDao userDao) throws Exception {\n    log.debug(\"User: \" + us.getLogin());\n    us.setResethash(UUID.randomUUID().toString());\n    userDao.update(us, -1L);\n    String reset_link = appLink + \"?hash=\" + us.getResethash();\n\n    String email = us.getAddress().getEmail();\n\n    String template = ResetPasswordTemplate.getEmail(reset_link);\n\n    getBean(MailHandler.class).send(email, Application.getString(517), template);\n}\n"
}