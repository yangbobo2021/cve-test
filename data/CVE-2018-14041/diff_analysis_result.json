{
    "before_functions": "refresh() {\n  const autoMethod = this._scrollElement === this._scrollElement.window\n    ? OffsetMethod.OFFSET : OffsetMethod.POSITION\n\n  const offsetMethod = this._config.method === 'auto'\n    ? autoMethod : this._config.method\n\n  const offsetBase = offsetMethod === OffsetMethod.POSITION\n    ? this._getScrollTop() : 0\n\n  this._offsets = []\n  this._targets = []\n\n  this._scrollHeight = this._getScrollHeight()\n\n  const targets = $.makeArray($(this._selector))\n\n  targets\n    .map((element) => {\n      let target\n      const targetSelector = Util.getSelectorFromElement(element)\n\n      if (targetSelector) {\n        target = $(targetSelector)[0]\n      }\n\n      if (target) {\n        const targetBCR = target.getBoundingClientRect()\n        if (targetBCR.width || targetBCR.height) {\n          // TODO (fat): remove sketch reliance on jQuery position/offset\n          return [\n            $(target)[offsetMethod]().top + offsetBase,\n            targetSelector\n          ]\n        }\n      }\n      return null\n    })\n    .filter((item) => item)\n    .sort((a, b) => a[0] - b[0])\n    .forEach((item) => {\n      this._offsets.push(item[0])\n      this._targets.push(item[1])\n    })\n}\n",
    "after_functions": "refresh() {\n  const autoMethod = this._scrollElement === this._scrollElement.window\n    ? OffsetMethod.OFFSET : OffsetMethod.POSITION\n\n  const offsetMethod = this._config.method === 'auto'\n    ? autoMethod : this._config.method\n\n  const offsetBase = offsetMethod === OffsetMethod.POSITION\n    ? this._getScrollTop() : 0\n\n  this._offsets = []\n  this._targets = []\n\n  this._scrollHeight = this._getScrollHeight()\n\n  const targets = $.makeArray(document.querySelectorAll(this._selector))\n\n  targets\n    .map((element) => {\n      let target\n      const targetSelector = Util.getSelectorFromElement(element)\n\n      if (targetSelector) {\n        target = $(targetSelector)[0]\n      }\n\n      if (target) {\n        const targetBCR = target.getBoundingClientRect()\n        if (targetBCR.width || targetBCR.height) {\n          // TODO (fat): remove sketch reliance on jQuery position/offset\n          return [\n            $(target)[offsetMethod]().top + offsetBase,\n            targetSelector\n          ]\n        }\n      }\n      return null\n    })\n    .filter((item) => item)\n    .sort((a, b) => a[0] - b[0])\n    .forEach((item) => {\n      this._offsets.push(item[0])\n      this._targets.push(item[1])\n    })\n}\n"
}